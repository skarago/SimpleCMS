@using SimpleCMS.App_Code.Data

@{
    Page.Title = "Title goes here";
    Layout = "~/_SiteLayout.cshtml";
    var posts = PostRepository.GetPublishedPosts();
    var md = new MarkdownSharp.Markdown();
}

<div>
    @foreach (var post in posts){
        <div class="post-container">
            <hgroup>
                <h1 class="post-title">@post.Title</h1>
                <h2>by @post.UserName</h2>
            </hgroup>  
            <div class="post-content">
                @Html.Raw(md.Transform(post.Content))
            </div>
            <div class="post-tags">
                <ul>
                    @foreach (var tag in post.Tags)
                    {
                        <li><a href="/archive/tag/@tag.UrlFriendlyName/">@tag.Name</a></li>
                    }
                </ul>

            </div>
        </div>
    }
</div>